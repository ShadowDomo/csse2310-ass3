#include "player.h"

/** Initialises and returns a player **/
Player *init_player(Path *path, int ID) {
    Player *player = malloc(sizeof(Player));
    player->ID = ID;
    player->money = 7;
    player->countV1 = 0;
    player->countV2 = 0;
    player->siteNumber = 0;
    player->points = 0;

    // init cards
    Cards cards = {0, 0, 0, 0, 0};
    player->cards = cards;

    path->sites[0].playerIDs[ID] = 1;
    path->sites[0].numPlayersCurrently += 1;

    return player;
}

/** Moves the given player forward the given number of steps. **/
void move_player(Path *path, Player *player, int steps) {
    path->sites[player->siteNumber].numPlayersCurrently -= 1;
    path->sites[player->siteNumber].playerIDs[player->ID] = 0;
    player->siteNumber += steps;
    path->sites[player->siteNumber].numPlayersCurrently += 1;
    path->sites[player->siteNumber].playerIDs[player->ID] = 1;
}
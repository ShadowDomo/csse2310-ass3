#include "2310A.h"


/** Dealer program. **/
int main(int argc, char **argv) {

    // suppose correct
    char *deckFileName = argv[1];
    char *mapFileName = argv[2];

    // first three args are not players
    int numPlayers = argc - 3;

    char *givenPath = read_line(fopen(mapFileName, "r"));
    Path *path = allocate_path(givenPath, numPlayers);
    path->players = malloc(sizeof(Player*) * numPlayers);
    path->deck = allocate_deck(fopen(deckFileName, "r"));

    for (int i = 0; i < numPlayers; ++i) {
        path->players[i] = init_player(path, i);
    }
    arrange_order_of_players(path);

    start_dealer(path);


}
